{
  "log": {
    "level": "info",
    "timestamp": true
  },
  "experimental": {
    "clash_api": {
      "external_controller": "127.0.0.1:9090",
      "external_ui": "ui",
      "secret": "",
      "default_mode": "rule"
    },
    "cache_file": {
      "enabled": true,
      "store_fakeip": true
    }
  },
  "dns": {
    "servers": [
      {
        "tag": "google",
        "address": "8.8.8.8",
        "detour": "ğŸš€ ç¯€é»é¸æ“‡"
      },
      {
        "tag": "local",
        "address": "223.5.5.5",
        "detour": "DIRECT"
      },
      {
        "tag": "REJECT",
        "address": "rcode://success"
      }
    ],
    "rules": [
      // { "outbound": "any", "server": "local" },  <-- å»ºè­°å…ˆè¨»è§£æ‰è§€å¯Ÿï¼Œé€šå¸¸ä¸éœ€è¦é€™è¡Œ
      { "clash_mode": "Direct", "server": "local" },
      { "clash_mode": "Global", "server": "google" },
      { "rule_set": "rs-ads", "server": "REJECT" }, // å»£å‘Šç›´æ¥åœ¨ DNS å±¤æ””æˆªï¼Œå¾ˆå¥½ ğŸ‘
      
      // åœ‹å…§åŸŸåã€å…§ç¶²åŸŸåã€åœ‹å…§IP -> èµ°åœ‹å…§ DNS
      { "rule_set": ["rs-cn", "rs-private", "ip-cn", "ip-private"], "server": "local" }
    ],
    "final": "google",
    "strategy": "ipv4_only"
  },
  "inbounds": [
    {
      "type": "tun",
      "tag": "tun-in",
      "interface_name": "tun0",
      "inet4_address": "172.19.0.1/30",
      "inet6_address": "fd00::1/126",
      "stack": "system",
      "auto_route": true,
      "strict_route": true,
      "sniff": true
    }
  ],
  "outbounds": [
    { "type": "selector", "tag": "ğŸš€ ç¯€é»é¸æ“‡", "outbounds": ["âš¡ è‡ªå‹•é¸æ“‡", "DIRECT"] },
    { "type": "urltest", "tag": "âš¡ è‡ªå‹•é¸æ“‡", "outbounds": [], "url": "https://www.gstatic.com/generate_204", "interval": "3m", "tolerance": 50 },
    { "type": "selector", "tag": "ğŸ’¬ AI æœå‹™", "outbounds": ["âš¡ è‡ªå‹•é¸æ“‡", "ğŸš€ ç¯€é»é¸æ“‡"] },
    { "type": "selector", "tag": "ğŸŒ éä¸­åœ‹", "outbounds": ["ğŸš€ ç¯€é»é¸æ“‡", "DIRECT"] },
    { "type": "selector", "tag": "ğŸ”’ åœ‹å…§æœå‹™", "outbounds": ["DIRECT", "ğŸš€ ç¯€é»é¸æ“‡"] },
    { "type": "selector", "tag": "ğŸ  ç§æœ‰ç¶²çµ¡", "outbounds": ["DIRECT"] },
    { "type": "selector", "tag": "ğŸŸ æ¼ç¶²ä¹‹é­š", "outbounds": ["ğŸš€ ç¯€é»é¸æ“‡", "DIRECT"] },
    { "type": "selector", "tag": "ğŸ›‘ å»£å‘Šæ””æˆª", "outbounds": ["REJECT", "DIRECT"] },
    
    { "type": "direct", "tag": "DIRECT" },
    { "type": "block", "tag": "REJECT" },
    { "type": "dns", "tag": "dns-out" }
  ],
  "route": {
    "rule_set": [
      { "type": "remote", "tag": "rs-ai", "format": "binary", "url": "https://github.com/sammy0101/myself/raw/refs/heads/main/geosite_ai_hk_proxy.srs", "download_detour": "DIRECT" },
      { "type": "remote", "tag": "rs-non-cn", "format": "binary", "url": "https://github.com/MetaCubeX/meta-rules-dat/raw/sing/geo/geosite/geolocation-!cn.srs", "download_detour": "DIRECT" },
      { "type": "remote", "tag": "rs-cn", "format": "binary", "url": "https://github.com/MetaCubeX/meta-rules-dat/raw/sing/geo/geosite/geolocation-cn.srs", "download_detour": "DIRECT" },
      { "type": "remote", "tag": "rs-ads", "format": "binary", "url": "https://github.com/MetaCubeX/meta-rules-dat/raw/sing/geo/geosite/category-ads-all.srs", "download_detour": "DIRECT" },
      { "type": "remote", "tag": "rs-private", "format": "binary", "url": "https://github.com/MetaCubeX/meta-rules-dat/raw/sing/geo/geosite/private.srs", "download_detour": "DIRECT" },
      { "type": "remote", "tag": "ip-cn", "format": "binary", "url": "https://github.com/MetaCubeX/meta-rules-dat/raw/sing/geo/geoip/cn.srs", "download_detour": "DIRECT" },
      { "type": "remote", "tag": "ip-private", "format": "binary", "url": "https://github.com/MetaCubeX/meta-rules-dat/raw/sing/geo/geoip/private.srs", "download_detour": "DIRECT" }
    ],
  "rules": [
      { "protocol": "dns", "outbound": "dns-out" },
      { "clash_mode": "Direct", "outbound": "DIRECT" },
      { "clash_mode": "Global", "outbound": "ğŸš€ ç¯€é»é¸æ“‡" },
      
      // 1. å»£å‘Š & å…§ç¶² (æœ€å„ªå…ˆ)
      { "rule_set": "rs-ads", "outbound": "REJECT" },
      { "rule_set": ["rs-private", "ip-private"], "outbound": "ğŸ  ç§æœ‰ç¶²çµ¡" },
      
      // 2. æ ¸å¿ƒæ¥­å‹™ï¼šAI (ç¢ºä¿å„ªå…ˆæ¬Š)
      { "rule_set": "rs-ai", "outbound": "ğŸ’¬ AI æœå‹™" },
      
      // 3. åŸŸåå„ªå…ˆåŒ¹é… (Domain Strategy)
      // å…ˆæŠŠæ‰€æœ‰ã€ŒåŸŸåè¦å‰‡ã€æ¯”å°å®Œï¼Œé€™æ¨£å¤§éƒ¨åˆ†æµé‡éƒ½ä¸éœ€è¦è§£æ IP
      { "rule_set": "rs-cn", "outbound": "ğŸ”’ åœ‹å…§æœå‹™" },      // åœ‹å…§åŸŸå
      { "rule_set": "rs-non-cn", "outbound": "ğŸŒ éä¸­åœ‹" },   // åœ‹å¤–åŸŸå (æŠŠé€™å€‹æä¸Šä¾†!)

      // 4. IP å…œåº• (IP Strategy)
      // åŸŸåéƒ½æ²’å°ä¸Šï¼Œæ‰é–‹å§‹çœ‹ IP
      { "rule_set": "ip-cn", "outbound": "ğŸ”’ åœ‹å…§æœå‹™" },      // åœ‹å…§ IP
      
      // 5. æœ€çµ‚å…œåº•
      { "outbound": "ğŸŸ æ¼ç¶²ä¹‹é­š" }
    ],
    "auto_detect_interface": true
  }
}
